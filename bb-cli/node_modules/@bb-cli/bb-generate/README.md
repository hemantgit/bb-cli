# bb-generate
Generate packages, modules, items, from specific templates.

## INSTALL

- Install library

```bash
npm install --global @bb-cli/bb-generate
```



## USAGE

- Display help

```bash
bb-generate --help
```

- Display version

```bash
bb-generate --version
```

### COMMON OPTIONS:
- -f --format: Passing 'json' will cause the output to be JSON.
- -h --help: Show the help for the command.

### ENVIRONMENTS:
Set the following environment variables to change the output behaviour:

```bash
  LOG_LEVEL=silly|verbose|info|warn|error
  COLOR=false|true
```

## SUBCOMMANDS
### bb-generate item
#### DESCRIPTION:

The item will be generated into a directory named the same as the name you
give to the item when prompted.

- bb-generate requires that you have already installed Backbase generators, which is most easily done using npm.
- For most generators, the name you give will be automatically turned to snake-case.

#### EXAMPLES:

Generate from installed generator:

```bash
  npm install -g @backbase/generator-widget
  bb-generate widget
```

Generate from file system:
```
  bb-generate /path/to/custom/generator
```

Output to a custom path (default output will be current directory):

```bash
  bb-generate widget-bb-ng --output /path/to/my/widgets
```
### bb-generate list
#### DESCRIPTION:

Get a list of the currently installed generators.

#### EXAMPLES:

List all available generators:

```bash
  bb-generate list
```

List available generators under bb-cli scope:

```bash
  bb-generate list -s @backbase
```

Output list in JSON:

```bash
  bb-generate list --format json
```




## API
## Modules

<dl>
<dt><a href="#module_prompts">prompts</a></dt>
<dd><p>Inquirer predefined prompts</p>
</dd>
<dt><a href="#module_generatorAPI">generatorAPI</a> ⇒ <code>function</code></dt>
<dd><p>Factory to create generator API prompts
Prompts are based on the Inquirer.js prompt api</p>
</dd>
<dt><a href="#@bb-cli/bb-generate.module_generate">generate</a> ⇒ <code>Promise.&lt;GeneratedItems&gt;</code></dt>
<dd><p>API usage for bb-generate CLI</p>
</dd>
<dt><a href="#@bb-cli/bb-generate.module_list">list</a> ⇒ <code>Promise.&lt;GeneratorsFoundCollection&gt;</code></dt>
<dd><p>Get available generators</p>
</dd>
</dl>

<a name="module_prompts"></a>

## prompts
Inquirer predefined prompts

**Access:** public  
**See**: https://github.com/SBoudrias/Inquirer.js#questions  

* [prompts](#module_prompts)
    * [.name](#module_prompts.name) : <code>Object</code>
    * [.description](#module_prompts.description) : <code>Object</code>
    * [.version](#module_prompts.version) : <code>Object</code>

<a name="module_prompts.name"></a>

### prompts.name : <code>Object</code>
Name prompt a mandatory question, is returning a kebabCase value

**Kind**: static property of <code>[prompts](#module_prompts)</code>  
**Access:** public  
**Since**: v2.0.0  
**Example**  
```javascript
prompts.name -> 'some value' -> 'some-value'
```
<a name="module_prompts.description"></a>

### prompts.description : <code>Object</code>
Description prompt
Required description value

**Kind**: static property of <code>[prompts](#module_prompts)</code>  
**Access:** public  
**Since**: v2.0.0  
**Example**  
```javascript
prompts.description -> 'some value' -> 'Some value'
```
<a name="module_prompts.version"></a>

### prompts.version : <code>Object</code>
Version prompt,
A Required semver value

**Kind**: static property of <code>[prompts](#module_prompts)</code>  
**Default**: <code>0.1.0-alpha.0</code>  
**Access:** public  
**See**: https://docs.npmjs.com/getting-started/semantic-versioning  
**Since**: v2.0.0  
**Example**  
```javascript
prompts.version -> '' -> '0.1.0-alpha.0'
```
<a name="module_generatorAPI"></a>

## generatorAPI ⇒ <code>function</code>
Factory to create generator API prompts
Prompts are based on the Inquirer.js prompt api

**Returns**: <code>function</code> - new prompt generator  
**Access:** public  
**See**: https://github.com/SBoudrias/Inquirer.js#questions  
**Since**: v2.0.0  

| Param | Type | Description |
| --- | --- | --- |
| api | <code>generator</code> | Default generator |
| prompts | <code>prompts</code> | Default prompts |
| Inquirer.js | <code>inquirer</code> | https://github.com/SBoudrias/Inquirer.js#inquirerpromptquestions---promise |

**Example**  
Basic default Example

```javascript
module.exports = function(api, prompts, inquirer) {
  return api(prompts);
};
```

With my prompts:

```javascript
module.exports = function(api, prompts) {
  const myPrompts = [{
    type: 'password',
    name: 'password',
    message: 'What is your password',
    default: 'admin'
  }]
 return api(myPrompts);
};
```

Extend default prompts:

```javascript
module.exports = function(api, prompts) {
  const myPrompts = [
    Object.assign(prompts.name, {
      message: 'What is your username',
    }),
   {
    type: 'password',
    name: 'password',
    message: 'What is your password',
    default: answers => `bb-${answer.name}`, // use previous answers
  }]
 return api(myPrompts);
};
```

Advanced example:

```javascript
module.exports = function(api, prompts) {
 const myPrompts = [{
   name: 'scope',
   message: 'Scope',
   default: '@backbase',
   filter: value => api.filter.prefix(value, 'bb-'),
   validate: value => api.validate.isRequired(value, 'Scope field is required!'),
 }];

 const setup = {
   hooks: {
     preTransform: function(data) {
       data.name = data.scope ? `${data.scope}/${data.name}`: data.name ;
     }
   }
 }
 return api(myPrompts, setup);
};
```

* [generatorAPI](#module_generatorAPI) ⇒ <code>function</code>
    * [.validate](#module_generatorAPI.validate)
        * [.isSemver](#module_generatorAPI.validate.isSemver) ⇒ <code>Boolean</code>
        * [.isRequired](#module_generatorAPI.validate.isRequired) ⇒ <code>Boolean</code>
    * [.filter](#module_generatorAPI.filter)
        * [.camelCase](#module_generatorAPI.filter.camelCase)
        * [.lowerCase](#module_generatorAPI.filter.lowerCase)
        * [.kebabCase](#module_generatorAPI.filter.kebabCase)
        * [.startCase](#module_generatorAPI.filter.startCase)
        * [.capitalize](#module_generatorAPI.filter.capitalize)
        * [.escape](#module_generatorAPI.filter.escape)
        * [.unescape](#module_generatorAPI.filter.unescape)
        * [.template](#module_generatorAPI.filter.template)
        * [.trim](#module_generatorAPI.filter.trim)
        * [.truncate](#module_generatorAPI.filter.truncate)
        * [.replace](#module_generatorAPI.filter.replace)
        * [.upperFirst](#module_generatorAPI.filter.upperFirst)
        * [.lowerFirst](#module_generatorAPI.filter.lowerFirst)
        * [.deburr](#module_generatorAPI.filter.deburr)
        * [.prefix](#module_generatorAPI.filter.prefix) ⇒ <code>String</code>

<a name="module_generatorAPI.validate"></a>

### generatorAPI.validate
Validation utilities for generatorAPI

**Kind**: static property of <code>[generatorAPI](#module_generatorAPI)</code>  
**Access:** public  

* [.validate](#module_generatorAPI.validate)
    * [.isSemver](#module_generatorAPI.validate.isSemver) ⇒ <code>Boolean</code>
    * [.isRequired](#module_generatorAPI.validate.isRequired) ⇒ <code>Boolean</code>

<a name="module_generatorAPI.validate.isSemver"></a>

#### validate.isSemver ⇒ <code>Boolean</code>
Checks if the given version is a semver valid version

**Kind**: static property of <code>[validate](#module_generatorAPI.validate)</code>  
**Access:** public  
**Sig**: (String , String) -> Boolean  
**See**: http://semver.org/  
**Since**: v2.0.0  

| Param | Type | Description |
| --- | --- | --- |
| version | <code>String</code> | Version value |
| message | <code>String</code> | Message in case of not valid |

**Example**  
Basic usage:

```javascript
const isValidVersion = validate.isSemver('v1',
  'Version field needs to be a semver valid version!') => false
```
<a name="module_generatorAPI.validate.isRequired"></a>

#### validate.isRequired ⇒ <code>Boolean</code>
Checks if the given value is empty

**Kind**: static property of <code>[validate](#module_generatorAPI.validate)</code>  
**Access:** public  
**Sig**: (String , String) -> Boolean  
**Since**: v2.0.0  

| Param | Type | Description |
| --- | --- | --- |
| Version | <code>String</code> | testing value |
| message | <code>String</code> | Message in case required value |

**Example**  
Basic usage:
```javascript
const isMandatory = validate.isRequired('some-value', 'This field is mandatory');
```
<a name="module_generatorAPI.filter"></a>

### generatorAPI.filter
Filter or transformers utilities for generatorAPI

**Kind**: static property of <code>[generatorAPI](#module_generatorAPI)</code>  
**Access:** public  

* [.filter](#module_generatorAPI.filter)
    * [.camelCase](#module_generatorAPI.filter.camelCase)
    * [.lowerCase](#module_generatorAPI.filter.lowerCase)
    * [.kebabCase](#module_generatorAPI.filter.kebabCase)
    * [.startCase](#module_generatorAPI.filter.startCase)
    * [.capitalize](#module_generatorAPI.filter.capitalize)
    * [.escape](#module_generatorAPI.filter.escape)
    * [.unescape](#module_generatorAPI.filter.unescape)
    * [.template](#module_generatorAPI.filter.template)
    * [.trim](#module_generatorAPI.filter.trim)
    * [.truncate](#module_generatorAPI.filter.truncate)
    * [.replace](#module_generatorAPI.filter.replace)
    * [.upperFirst](#module_generatorAPI.filter.upperFirst)
    * [.lowerFirst](#module_generatorAPI.filter.lowerFirst)
    * [.deburr](#module_generatorAPI.filter.deburr)
    * [.prefix](#module_generatorAPI.filter.prefix) ⇒ <code>String</code>

<a name="module_generatorAPI.filter.camelCase"></a>

#### filter.camelCase
Filter or transformers utilities for generatorAPI

**Kind**: static property of <code>[filter](#module_generatorAPI.filter)</code>  
**Access:** public  
**See**: https://lodash.com/docs#camelCase  
<a name="module_generatorAPI.filter.lowerCase"></a>

#### filter.lowerCase
**Kind**: static property of <code>[filter](#module_generatorAPI.filter)</code>  
**Access:** public  
**See**: https://lodash.com/docs#lowerCase  
<a name="module_generatorAPI.filter.kebabCase"></a>

#### filter.kebabCase
**Kind**: static property of <code>[filter](#module_generatorAPI.filter)</code>  
**Access:** public  
**See**: https://lodash.com/docs#kebabCase  
<a name="module_generatorAPI.filter.startCase"></a>

#### filter.startCase
**Kind**: static property of <code>[filter](#module_generatorAPI.filter)</code>  
**Access:** public  
**See**: https://lodash.com/docs#startCase  
<a name="module_generatorAPI.filter.capitalize"></a>

#### filter.capitalize
**Kind**: static property of <code>[filter](#module_generatorAPI.filter)</code>  
**Access:** public  
**See**: https://lodash.com/docs#capitalize  
<a name="module_generatorAPI.filter.escape"></a>

#### filter.escape
**Kind**: static property of <code>[filter](#module_generatorAPI.filter)</code>  
**Access:** public  
**See**: https://lodash.com/docs#escape  
<a name="module_generatorAPI.filter.unescape"></a>

#### filter.unescape
**Kind**: static property of <code>[filter](#module_generatorAPI.filter)</code>  
**Access:** public  
**See**: https://lodash.com/docs#unescape  
<a name="module_generatorAPI.filter.template"></a>

#### filter.template
**Kind**: static property of <code>[filter](#module_generatorAPI.filter)</code>  
**Access:** public  
**See**: https://lodash.com/docs#template  
<a name="module_generatorAPI.filter.trim"></a>

#### filter.trim
**Kind**: static property of <code>[filter](#module_generatorAPI.filter)</code>  
**Access:** public  
**See**: https://lodash.com/docs#trim  
<a name="module_generatorAPI.filter.truncate"></a>

#### filter.truncate
**Kind**: static property of <code>[filter](#module_generatorAPI.filter)</code>  
**Access:** public  
**See**: https://lodash.com/docs#truncate  
<a name="module_generatorAPI.filter.replace"></a>

#### filter.replace
**Kind**: static property of <code>[filter](#module_generatorAPI.filter)</code>  
**Access:** public  
**See**: https://lodash.com/docs#replace  
<a name="module_generatorAPI.filter.upperFirst"></a>

#### filter.upperFirst
**Kind**: static property of <code>[filter](#module_generatorAPI.filter)</code>  
**Access:** public  
**See**: https://lodash.com/docs#upperFirst  
<a name="module_generatorAPI.filter.lowerFirst"></a>

#### filter.lowerFirst
**Kind**: static property of <code>[filter](#module_generatorAPI.filter)</code>  
**Access:** public  
**See**: https://lodash.com/docs#lowerFirst  
<a name="module_generatorAPI.filter.deburr"></a>

#### filter.deburr
**Kind**: static property of <code>[filter](#module_generatorAPI.filter)</code>  
**Access:** public  
**See**: https://lodash.com/docs#deburr  
<a name="module_generatorAPI.filter.prefix"></a>

#### filter.prefix ⇒ <code>String</code>
Add a prefix to the given value

**Kind**: static property of <code>[filter](#module_generatorAPI.filter)</code>  
**Returns**: <code>String</code> - Prefixed value  
**Access:** public  
**Sig**: (String , String) -> String  
**Since**: v2.0.0  

| Param | Type | Description |
| --- | --- | --- |
| Version | <code>String</code> | testing value |
| message | <code>String</code> | Message in case required value |

**Example**  
```javascript
const preValue = filter.prefix('widget', 'bb-') => 'bb-widget'
```
<a name="@bb-cli/bb-generate.module_generate"></a>

## generate ⇒ <code>Promise.&lt;GeneratedItems&gt;</code>
API usage for bb-generate CLI

**Returns**: <code>Promise.&lt;GeneratedItems&gt;</code> - items that were transformed  
**Access:** public  
**Since**: v2.0.0  
**Example**  
Basic generate item example

```javascript
import bbGenerate from '@bb-cli/bb-generate';
const options {
 scope: '@backbase',
};

bbGenerate(generatorName, template, options)
  .then(handleOutputFiles, handleErrors);
```
<a name="@bb-cli/bb-generate.module_list"></a>

## list ⇒ <code>Promise.&lt;GeneratorsFoundCollection&gt;</code>
Get available generators

**Returns**: <code>Promise.&lt;GeneratorsFoundCollection&gt;</code> - Array of objects  
**Access:** public  
**Since**: v2.0.0  
**Example**  
```javascript
import { list } from '@bb-cli/bb-generate';

const options {
 scope: '@backbase',
 format: 'json',
};

list(options)
  .then(handleSearchResults, handleErrors);
```
