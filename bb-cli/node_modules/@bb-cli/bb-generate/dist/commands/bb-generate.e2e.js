'use strict';

var _blueTape = require('blue-tape');

var _path = require('path');

var _path2 = _interopRequireDefault(_path);

var _helpers = require('../../../../test/helpers');

var _helpers2 = _interopRequireDefault(_helpers);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var bin = _path2.default.resolve(__dirname, '../../bin/bb-generate.js');

(0, _blueTape.test)('e2e :: bb-generate :: main command', function (assert) {
  var cmd = [bin];
  return (0, _helpers2.default)(cmd).then(function (res) {
    var actual = res.stdout.includes('NAME: bb-generate item');
    var expected = true;
    assert.equal(actual, expected, 'Should display the help.');
    return res;
  }).then(function (res) {
    var actual = res.code;
    var expected = 1;
    assert.equal(actual, expected, 'Should exit with partial success exit code');
    return res;
  }).then(function (res) {
    var actual = res.stderr.includes('Missing required <name>');
    var expected = true;
    assert.equal(actual, expected, 'Should display the error info');
    return res;
  });
});
//# sourceMappingURL=bb-generate.e2e.js.map